var U=Object.defineProperty,_=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var v=(e,r,t)=>r in e?U(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,P=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&v(e,t,r[t]);if(u)for(var t of u(r))x.call(r,t)&&v(e,t,r[t]);return e},g=(e,r)=>_(e,H(r));var j=(e,r)=>{var t={};for(var s in e)m.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&u)for(var s of u(e))r.indexOf(s)<0&&x.call(e,s)&&(t[s]=e[s]);return t};import{r as o}from"./vendor.3d96c833.js";import{u as I,j as n,b as M,a}from"./index.93ad3b0e.js";const w=o.exports.createContext({loading:!1});function V(){return o.exports.useContext(w)}function C(s){var h=s,{to:e,children:r}=h,t=j(h,["to","children"]);const{prefetch:k,createHref:E}=I(),i=o.exports.useRef(),[L,d]=o.exports.useState(!1),[N,R]=o.exports.useState(),[S,y]=o.exports.useState();function p(){d(!0);const c=k(e,{done(l){c===i.current&&(d(!1),y(l))},onError(l){c===i.current&&(d(!1),R(l))}});i.current=c}function z(){i.current||p()}function D(c){c.preventDefault(),i.current||p(),i.current()}return o.exports.useEffect(()=>{i.current=void 0},[e]),n(w.Provider,{value:{loading:L,error:N,view:S},children:n("a",g(P({},t),{href:E(e),onMouseEnter:z,onClick:D,children:r}))})}function f({children:e}){return n("span",{className:"sv99fz3",children:n("div",{className:"dmrdfei",children:e})})}function b(){const{view:e,loading:r,error:t}=V();return r?n(f,{children:"loading"}):t?n(f,{children:"error"}):e?n(f,{children:e}):null}function B(){const e=M();return a("div",{children:[n("h1",{className:"h6hbkzb",children:"User List"}),a("ul",{children:[e.map(r=>n("li",{children:a(C,{to:`/users/${r.id}`,children:[r.username,n(b,{})]})},r.id)),n("li",{children:a(C,{to:"/users/3","data-testid":"lost",children:["user 3(lost)",n(b,{})]})})]})]})}export{B as default};
